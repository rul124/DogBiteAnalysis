<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data transformation | Dog Bite Accident Analysis</title>
  <meta name="description" content="Chapter 3 Data transformation | Dog Bite Accident Analysis" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data transformation | Dog Bite Accident Analysis" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data transformation | Dog Bite Accident Analysis" />
  
  
  

<meta name="author" content="Xiaorui Qin, Ziyu Fang, Ruoxi Liu" />


<meta name="date" content="2021-12-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-sources.html"/>
<link rel="next" href="missing-values.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Dog Bite Accidents</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#dog-bite-data"><i class="fa fa-check"></i><b>2.1</b> Dog Bite Data</a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#nyc-dog-licensing-data"><i class="fa fa-check"></i><b>2.2</b> NYC Dog Licensing Data</a></li>
<li class="chapter" data-level="2.3" data-path="data-sources.html"><a href="data-sources.html#average-temperature-in-nyc-data"><i class="fa fa-check"></i><b>2.3</b> Average Temperature in NYC Data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#the-column-dateofbite"><i class="fa fa-check"></i><b>3.1</b> The column “DateOfBite”</a></li>
<li class="chapter" data-level="3.2" data-path="data-transformation.html"><a href="data-transformation.html#the-column-breed"><i class="fa fa-check"></i><b>3.2</b> The column “Breed”</a></li>
<li class="chapter" data-level="3.3" data-path="data-transformation.html"><a href="data-transformation.html#the-column-age"><i class="fa fa-check"></i><b>3.3</b> The column “Age”</a></li>
<li class="chapter" data-level="3.4" data-path="data-transformation.html"><a href="data-transformation.html#temperature-data-from-average-temperature-in-nyc-data"><i class="fa fa-check"></i><b>3.4</b> Temperature data from Average Temperature in NYC Data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a>
<ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#read-the-data"><i class="fa fa-check"></i><b>4.1</b> Read the data</a></li>
<li class="chapter" data-level="4.2" data-path="missing-values.html"><a href="missing-values.html#missing-values-by-column"><i class="fa fa-check"></i><b>4.2</b> Missing values by column</a></li>
<li class="chapter" data-level="4.3" data-path="missing-values.html"><a href="missing-values.html#missing-values-by-row"><i class="fa fa-check"></i><b>4.3</b> Missing values by row</a></li>
<li class="chapter" data-level="4.4" data-path="missing-values.html"><a href="missing-values.html#row-column-missing-patterns---heatmap"><i class="fa fa-check"></i><b>4.4</b> Row / column missing patterns - heatmap</a></li>
<li class="chapter" data-level="4.5" data-path="missing-values.html"><a href="missing-values.html#row-column-missing-patterns---gg_miss_fct"><i class="fa fa-check"></i><b>4.5</b> Row / column missing patterns - gg_miss_fct</a></li>
<li class="chapter" data-level="4.6" data-path="missing-values.html"><a href="missing-values.html#missing-patterns"><i class="fa fa-check"></i><b>4.6</b> Missing patterns</a></li>
<li class="chapter" data-level="4.7" data-path="missing-values.html"><a href="missing-values.html#missing-by-borough"><i class="fa fa-check"></i><b>4.7</b> Missing by borough</a></li>
<li class="chapter" data-level="4.8" data-path="missing-values.html"><a href="missing-values.html#number-of-missing-by-year"><i class="fa fa-check"></i><b>4.8</b> Number of missing by year</a></li>
<li class="chapter" data-level="4.9" data-path="missing-values.html"><a href="missing-values.html#number-of-missing-by-month"><i class="fa fa-check"></i><b>4.9</b> Number of missing by month</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#analysis-of-breed"><i class="fa fa-check"></i><b>5.1</b> Analysis of Breed</a></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#analysis-of-borough"><i class="fa fa-check"></i><b>5.2</b> Analysis of Borough</a></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#analysis-of-time"><i class="fa fa-check"></i><b>5.3</b> Analysis of Time</a></li>
<li class="chapter" data-level="5.4" data-path="results.html"><a href="results.html#analysis-of-gender-spayneuter"><i class="fa fa-check"></i><b>5.4</b> Analysis of Gender / SpayNeuter</a></li>
<li class="chapter" data-level="5.5" data-path="results.html"><a href="results.html#analysis-of-age"><i class="fa fa-check"></i><b>5.5</b> Analysis of Age</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a>
<ul>
<li class="chapter" data-level="6.1" data-path="interactive-component.html"><a href="interactive-component.html#introduction-1"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="interactive-component.html"><a href="interactive-component.html#interactive-part"><i class="fa fa-check"></i><b>6.2</b> Interactive part</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Dog Bite Accident Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-transformation" class="section level1" number="3">
<h1><span class="header-section-number">Chapter 3</span> Data transformation</h1>
<p>Since we will only extract some information from the two auxiliary data sources to help analyze our main dataset, we mainly discuss the data transformation of the main dog bites dataset.</p>
<div id="the-column-dateofbite" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> The column “DateOfBite”</h2>
<p>In our main dog bites dataset, the data type of the column named “DateOfBite” is “Date &amp; Time”, e.g., “January 02, 2015”. In our analysis, we aim to discuss the passage of time in months, thus we extract the “year” and “month” from this column to add two new columns named “MonthOfBite” and “YearOfBite”. We show the original “DataOfBite” and the two new columns for some rows as follows.</p>
<pre><code>## [1] &quot;C&quot;</code></pre>
<pre><code>## # A tibble: 10,280 x 3
##    DateOfBite      MonthOfBite YearOfBite
##    &lt;chr&gt;                 &lt;dbl&gt;      &lt;dbl&gt;
##  1 January 02 2015           1       2015
##  2 January 02 2015           1       2015
##  3 January 02 2015           1       2015
##  4 January 01 2015           1       2015
##  5 January 03 2015           1       2015
##  6 January 05 2015           1       2015
##  7 January 04 2015           1       2015
##  8 January 05 2015           1       2015
##  9 January 04 2015           1       2015
## 10 January 04 2015           1       2015
## # ... with 10,270 more rows</code></pre>
</div>
<div id="the-column-breed" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> The column “Breed”</h2>
<p>Many rows contain an empty “Breed”, we transform them as “UNKNOWN”. We show the “Breed” column and it successfully shows “UNKNOWN” in some rows.</p>
<pre><code>## # A tibble: 10,280 x 1
##    Breed                             
##    &lt;chr&gt;                             
##  1 Poodle, Standard                  
##  2 HUSKY                             
##  3 UNKNOWN                           
##  4 American Pit Bull Terrier/Pit Bull
##  5 American Pit Bull Terrier/Pit Bull
##  6 American Pit Bull Terrier/Pit Bull
##  7 MORKIE                            
##  8 Chihuahua                         
##  9 PIT BULL MIXED                    
## 10 UNKNOWN                           
## # ... with 10,270 more rows</code></pre>
</div>
<div id="the-column-age" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> The column “Age”</h2>
<p>A few “Age” records are string not numeric, e.g., “7Y” that denotes 7 years and “7M” for 7 months. We drop any non-numeric characters in these records and convert ages in months to ages in years, e.g., convert “7M” to “7/12”. For empty ages, we use “-1” to denote them. We show the “Age” column as follows.</p>
<pre><code>## # A tibble: 10,280 x 1
##      Age
##    &lt;dbl&gt;
##  1     3
##  2    -1
##  3    -1
##  4     6
##  5     1
##  6     1
##  7     1
##  8     1
##  9    -1
## 10    -1
## # ... with 10,270 more rows</code></pre>
</div>
<div id="temperature-data-from-average-temperature-in-nyc-data" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> Temperature data from Average Temperature in NYC Data</h2>
<p>We use our Average Temperature in NYC Data to obtain the corresponding temperature for each dog bite. We use “MonthOfBite” and “YearOfBite” to match our rows to the corresponding temperature, and add the corresponding temperature as a new column named “Avg_temp” to the main dog bites dataset. We show the “Avg_temp”, “MonthOfBite” and “YearOfBite” columns as follows.</p>
<pre><code>## # A tibble: 10,280 x 3
##    Avg_temp MonthOfBite YearOfBite
##       &lt;dbl&gt;       &lt;dbl&gt;      &lt;dbl&gt;
##  1     29.9           1       2015
##  2     29.9           1       2015
##  3     29.9           1       2015
##  4     29.9           1       2015
##  5     29.9           1       2015
##  6     29.9           1       2015
##  7     29.9           1       2015
##  8     29.9           1       2015
##  9     29.9           1       2015
## 10     29.9           1       2015
## # ... with 10,270 more rows</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-sources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-values.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rul124/DogBiteAnalysis/edit/main/03-cleaning.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/rul124/DogBiteAnalysis/blob/main/03-cleaning.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
